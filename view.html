<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" href="appicon.png" sizes="512x512" type="image/png">

<!-- Add iOS meta tags and icons -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Hathor">
<link rel="apple-touch-icon" href="appicon.png">

<meta name="description" content="ATON official front-end">

<!-- OpenGraph tags -->
<meta property="og:title" content="Hathor" />
<meta property="og:description" content="ATON official front-end" />
<meta property="og:image" content="appicon.png" />
<meta property="og:image:secure_url" content="appicon.png" /> 
<meta property="og:image:type" content="image/png" /> 
<meta property="og:image:width" content="200" /> 
<meta property="og:image:height" content="200" />

<!-- PWA manifest -->
<link rel="manifest" href="app.webmanifest">

<!-- Add meta theme-color -->
<meta name="theme-color" content="#000000" />

<title>Hathor</title>
<link rel="stylesheet" type="text/css" href="/res/css/aton.css">
<link rel="stylesheet" href="/hathor/vendors/sceditor/minified/themes/square.min.css">

<!-- Vendors -->
<script type="text/javascript" src="/vendors/vendors.min.js"></script>
<script src="/hathor/vendors/sceditor/minified/jquery.sceditor.xhtml.min.js"></script>
<script type="text/javascript" src="/dist/THREE.bundle.js"></script>

<script type="module" src="/src/ATON.js"></script>
<!--
<script type="text/javascript" src="../dist/ATON.min.js"></script>
-->

<script type="text/javascript" src="/hathor/hathor.js"></script>

<script>

// We init Hathor onload
window.addEventListener('load',()=>{
    HATHOR.init();

    ATON.FE.uiAddProfile("av", ()=>{
        $("#idTopToolbar").html(""); // clear

        ATON.FE.uiAddButton("idTopToolbar", "../../res/icons/prev.png", ()=>{
            window.location.href = "index.html";
        }, "Back");

        ATON.FE.uiAddButtonVRC("idTopToolbar");

        ATON.FE.uiSwitchButton("scene", ATON.SceneHub._bEdit);

        ATON.FE.uiAddButton("idTopToolbar", "selector", ()=>{
            ATON.FE.popupSelector();
        }, "3D Selector options");
        ATON.FE.uiAddButtonStreamFocus("idTopToolbar");

        ATON.FE.uiAddButtonFullScreen("idTopToolbar");
        ATON.FE.uiAddButton("idTopToolbar", "share", HATHOR.popupShare, "Share");

/*
        ATON.FE.uiAddButton("idTopToolbar", "list", ()=>{
            HATHOR.popupGraphs();
        }, "Layers / Graphs");
*/      
        HATHOR._bVRCreq = true;
    });

    ATON.FE.uiLoadProfile("av");

    ATON.VRoadcast.connect();
});
</script>
</head>

<body oncontextmenu="return false;">

    <!-- Top Toolbar -->
    <div id="idTopToolbar" class="atonToolbar atonToolbar-top-left scrollableX"></div>

    <!-- Bottom Toolbar -->
    <div id="idBottomToolbar" class="atonToolbar atonToolbar-bottom scrollableX"></div>
    <div id="idBottomRToolbar" class="atonToolbar atonToolbar-bottom-right"></div>

    <!-- Info
    <div id="idInfoContainer" class="infoContainer"><div class="infoTitle">Title</div><br>
    <div class="infoContent">Lorem ipsum dolor sit amet</div></div>
     -->
     

    <!-- Main Popup -->
    <div id="idPopup" class="atonPopupContainer" style="display:none;"></div>

    <!-- Loader -->
    <div id="idLoader" class="atonCenterLoader" style="display:none;"></div>
    <div id="idBGcover" class="atonBGcover" style="display:none;"></div>

    <!-- Powered by -->
    <div id='idPoweredBy' class="poweredBy" >
        Powered by <a href="http://osiris.itabc.cnr.it/aton/" target="_blank">ATON</a>
    </div>
</body>